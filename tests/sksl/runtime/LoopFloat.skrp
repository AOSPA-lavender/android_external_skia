    1. store_src                      $28..31 = src.rgba
    2. copy_constant                  $30 = 0x3F000000 (0.5)
    3. copy_constant                  $31 = 0x3F000000 (0.5)
    4. cmpeq_2_floats                 $28..29 = equal($28..29, $30..31)
    5. bitwise_and_int                $28 &= $29
    6. store_src_rg                   pos = src.rg
    7. init_lane_masks                CondMask = LoopMask = RetMask = true
    8. zero_slot_unmasked             kZero = 0
    9. copy_constant                  kTen = 0x41200000 (10.0)
   10. copy_slot_unmasked             $6 = pos(0)
   11. copy_constant                  $7 = colorGreen(1)
   12. max_float                      $6 = max($6, $7)
   13. copy_constant                  $7 = colorGreen(3)
   14. min_float                      $6 = min($6, $7)
   15. copy_constant                  $7 = 0x40A00000 (5.0)
   16. mul_float                      $6 *= $7
   17. copy_slot_unmasked             five = $6
   18. store_condition_mask           $42 = CondMask
   19. store_condition_mask           $52 = CondMask
   20. store_condition_mask           $32 = CondMask
   21. store_condition_mask           $78 = CondMask
   22. store_condition_mask           $62 = CondMask
   23. store_condition_mask           $24 = CondMask
   24. store_condition_mask           $72 = CondMask
   25. store_condition_mask           $18 = CondMask
   26. store_condition_mask           $0 = CondMask
   27. branch_if_no_lanes_active      branch_if_no_lanes_active +33 (label 10 at #60)
   28. store_return_mask              $1 = RetMask
   29. copy_slot_unmasked             five₁ = five
   30. copy_slot_unmasked             i = kZero
   31. store_loop_mask                $2 = LoopMask
   32. jump                           jump +15 (label 12 at #47)
   33. label                          label 0x0000000D
   34. store_condition_mask           $3 = CondMask
   35. copy_slot_unmasked             $4 = i
   36. copy_slot_unmasked             $5 = five₁
   37. cmpeq_float                    $4 = equal($4, $5)
   38. merge_condition_mask           CondMask = $3 & $4
   39. copy_slot_unmasked             $5 = i
   40. copy_slot_masked               [return_loop].result = Mask($5)
   41. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   42. load_condition_mask            CondMask = $3
   43. copy_slot_unmasked             $3 = i
   44. copy_constant                  $4 = 0x3F800000 (1.0)
   45. add_float                      $3 += $4
   46. copy_slot_masked               i = Mask($3)
   47. label                          label 0x0000000C
   48. copy_slot_unmasked             $3 = i
   49. copy_constant                  $4 = 0x41200000 (10.0)
   50. cmplt_float                    $3 = lessThan($3, $4)
   51. merge_loop_mask                LoopMask &= $3
   52. stack_rewind
   53. branch_if_any_lanes_active     branch_if_any_lanes_active -20 (label 13 at #33)
   54. label                          label 0x0000000B
   55. load_loop_mask                 LoopMask = $2
   56. zero_slot_unmasked             $2 = 0
   57. copy_slot_masked               [return_loop].result = Mask($2)
   58. load_return_mask               RetMask = $1
   59. copy_slot_unmasked             $1 = [return_loop].result
   60. label                          label 0x0000000A
   61. copy_constant                  $2 = 0x40A00000 (5.0)
   62. cmpeq_float                    $1 = equal($1, $2)
   63. zero_slot_unmasked             $19 = 0
   64. merge_condition_mask           CondMask = $0 & $1
   65. branch_if_no_lanes_active      branch_if_no_lanes_active +38 (label 9 at #103)
   66. copy_slot_unmasked             five₂ = five
   67. zero_2_slots_unmasked          sum, i₁ = 0
   68. store_loop_mask                $20 = LoopMask
   69. jump                           jump +20 (label 16 at #89)
   70. label                          label 0x00000011
   71. zero_slot_unmasked             $88 = 0
   72. store_condition_mask           $21 = CondMask
   73. copy_slot_unmasked             $22 = i₁
   74. copy_slot_unmasked             $23 = five₂
   75. cmplt_float                    $22 = lessThan($22, $23)
   76. merge_condition_mask           CondMask = $21 & $22
   77. copy_constant                  $89 = 0xFFFFFFFF
   78. copy_slot_masked               $88 = Mask($89)
   79. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
   80. load_condition_mask            CondMask = $21
   81. copy_2_slots_unmasked          $21..22 = sum, i₁
   82. add_float                      $21 += $22
   83. copy_slot_masked               sum = Mask($21)
   84. reenable_loop_mask             LoopMask |= $88
   85. copy_slot_unmasked             $21 = i₁
   86. copy_constant                  $22 = 0x3F800000 (1.0)
   87. add_float                      $21 += $22
   88. copy_slot_masked               i₁ = Mask($21)
   89. label                          label 0x00000010
   90. copy_slot_unmasked             $21 = i₁
   91. copy_slot_unmasked             $22 = kTen
   92. cmplt_float                    $21 = lessThan($21, $22)
   93. merge_loop_mask                LoopMask &= $21
   94. stack_rewind
   95. branch_if_any_lanes_active     branch_if_any_lanes_active -25 (label 17 at #70)
   96. label                          label 0x0000000F
   97. load_loop_mask                 LoopMask = $20
   98. copy_slot_unmasked             $20 = sum
   99. label                          label 0x0000000E
  100. copy_constant                  $21 = 0x420C0000 (35.0)
  101. cmpeq_float                    $20 = equal($20, $21)
  102. copy_slot_masked               $19 = Mask($20)
  103. label                          label 0x00000009
  104. load_condition_mask            CondMask = $0
  105. zero_slot_unmasked             $73 = 0
  106. merge_condition_mask           CondMask = $18 & $19
  107. branch_if_no_lanes_active      branch_if_no_lanes_active +38 (label 8 at #145)
  108. copy_slot_unmasked             five₃ = five
  109. zero_slot_unmasked             sum₁ = 0
  110. copy_constant                  kOne = 0x3F800000 (1.0)
  111. zero_slot_unmasked             i₂ = 0
  112. store_loop_mask                $74 = LoopMask
  113. jump                           jump +18 (label 20 at #131)
  114. label                          label 0x00000015
  115. store_condition_mask           $75 = CondMask
  116. copy_slot_unmasked             $76 = five₃
  117. copy_slot_unmasked             $77 = i₂
  118. cmplt_float                    $76 = lessThan($76, $77)
  119. merge_condition_mask           CondMask = $75 & $76
  120. branch_if_all_lanes_active     branch_if_all_lanes_active +18 (label 19 at #138)
  121. mask_off_loop_mask             LoopMask &= ~(CondMask & LoopMask & RetMask)
  122. load_condition_mask            CondMask = $75
  123. copy_slot_unmasked             $75 = sum₁
  124. copy_slot_unmasked             $76 = i₂
  125. add_float                      $75 += $76
  126. copy_slot_masked               sum₁ = Mask($75)
  127. copy_slot_unmasked             $75 = i₂
  128. copy_slot_unmasked             $76 = kOne
  129. add_float                      $75 += $76
  130. copy_slot_masked               i₂ = Mask($75)
  131. label                          label 0x00000014
  132. copy_slot_unmasked             $75 = i₂
  133. copy_constant                  $76 = 0x41200000 (10.0)
  134. cmplt_float                    $75 = lessThan($75, $76)
  135. merge_loop_mask                LoopMask &= $75
  136. stack_rewind
  137. branch_if_any_lanes_active     branch_if_any_lanes_active -23 (label 21 at #114)
  138. label                          label 0x00000013
  139. load_loop_mask                 LoopMask = $74
  140. copy_slot_unmasked             $74 = sum₁
  141. label                          label 0x00000012
  142. copy_constant                  $75 = 0x41700000 (15.0)
  143. cmpeq_float                    $74 = equal($74, $75)
  144. copy_slot_masked               $73 = Mask($74)
  145. label                          label 0x00000008
  146. load_condition_mask            CondMask = $18
  147. zero_slot_unmasked             $25 = 0
  148. merge_condition_mask           CondMask = $72 & $73
  149. branch_if_no_lanes_active      branch_if_no_lanes_active +25 (label 7 at #174)
  150. zero_slot_unmasked             sum₂ = 0
  151. branch_if_no_lanes_active      branch_if_no_lanes_active +14 (label 23 at #165)
  152. copy_constant                  i₃ = 0x3DFBE76D (0.123)
  153. label                          label 0x00000018
  154. copy_2_slots_unmasked          $26..27 = sum₂, i₃
  155. add_float                      $26 += $27
  156. copy_slot_masked               sum₂ = Mask($26)
  157. copy_slot_unmasked             $26 = i₃
  158. copy_constant                  $27 = 0x3DE353F8 (0.111)
  159. add_float                      $26 += $27
  160. copy_slot_masked               i₃ = Mask($26)
  161. copy_constant                  $27 = 0x3F19999A (0.6)
  162. cmplt_float                    $26 = lessThan($26, $27)
  163. stack_rewind
  164. branch_if_no_active_lanes_eq   branch -11 (label 24 at #153) if no lanes of $26 == 0x00000000 (0.0)
  165. label                          label 0x00000017
  166. copy_slot_unmasked             $26 = sum₂
  167. copy_constant                  $27 = 0x3FDCCCCD (1.725)
  168. sub_float                      $26 -= $27
  169. label                          label 0x00000016
  170. abs_float                      $26 = abs($26)
  171. copy_constant                  $27 = 0x3CCCCCCD (0.025)
  172. cmplt_float                    $26 = lessThan($26, $27)
  173. copy_slot_masked               $25 = Mask($26)
  174. label                          label 0x00000007
  175. load_condition_mask            CondMask = $72
  176. zero_slot_unmasked             $63 = 0
  177. merge_condition_mask           CondMask = $24 & $25
  178. branch_if_no_lanes_active      branch_if_no_lanes_active +28 (label 6 at #206)
  179. copy_constant                  $64 = 0x41100000 (9.0)
  180. swizzle_4                      $64..67 = ($64..67).xxxx
  181. copy_4_slots_unmasked          result = $64..67
  182. branch_if_no_lanes_active      branch_if_no_lanes_active +13 (label 26 at #195)
  183. copy_constant                  i₄ = 0x3F800000 (1.0)
  184. label                          label 0x0000001B
  185. copy_4_slots_unmasked          $64..67 = result(1..3), i₄
  186. copy_4_slots_masked            result = Mask($64..67)
  187. copy_slot_unmasked             $64 = i₄
  188. copy_constant                  $65 = 0x3F800000 (1.0)
  189. add_float                      $64 += $65
  190. copy_slot_masked               i₄ = Mask($64)
  191. copy_constant                  $65 = 0x40400000 (3.0)
  192. cmple_float                    $64 = lessThanEqual($64, $65)
  193. stack_rewind
  194. branch_if_no_active_lanes_eq   branch -10 (label 27 at #184) if no lanes of $64 == 0x00000000 (0.0)
  195. label                          label 0x0000001A
  196. copy_4_slots_unmasked          $64..67 = result
  197. copy_constant                  $68 = 0x41100000 (9.0)
  198. copy_constant                  $69 = 0x3F800000 (1.0)
  199. copy_constant                  $70 = 0x40000000 (2.0)
  200. copy_constant                  $71 = 0x40400000 (3.0)
  201. cmpeq_4_floats                 $64..67 = equal($64..67, $68..71)
  202. bitwise_and_2_ints             $64..65 &= $66..67
  203. bitwise_and_int                $64 &= $65
  204. label                          label 0x00000019
  205. copy_slot_masked               $63 = Mask($64)
  206. label                          label 0x00000006
  207. load_condition_mask            CondMask = $24
  208. zero_slot_unmasked             $79 = 0
  209. merge_condition_mask           CondMask = $62 & $63
  210. branch_if_no_lanes_active      branch_if_no_lanes_active +28 (label 5 at #238)
  211. copy_constant                  $80 = 0x41100000 (9.0)
  212. swizzle_4                      $80..83 = ($80..83).xxxx
  213. copy_4_slots_unmasked          result₁ = $80..83
  214. branch_if_no_lanes_active      branch_if_no_lanes_active +13 (label 29 at #227)
  215. copy_constant                  i₅ = 0x3F800000 (1.0)
  216. label                          label 0x0000001E
  217. copy_4_slots_unmasked          $80..83 = result₁(1..3), i₅
  218. copy_4_slots_masked            result₁ = Mask($80..83)
  219. copy_slot_unmasked             $80 = i₅
  220. copy_constant                  $81 = 0x3F800000 (1.0)
  221. add_float                      $80 += $81
  222. copy_slot_masked               i₅ = Mask($80)
  223. copy_constant                  $81 = 0x40800000 (4.0)
  224. cmplt_float                    $80 = lessThan($80, $81)
  225. stack_rewind
  226. branch_if_no_active_lanes_eq   branch -10 (label 30 at #216) if no lanes of $80 == 0x00000000 (0.0)
  227. label                          label 0x0000001D
  228. copy_4_slots_unmasked          $80..83 = result₁
  229. copy_constant                  $84 = 0x41100000 (9.0)
  230. copy_constant                  $85 = 0x3F800000 (1.0)
  231. copy_constant                  $86 = 0x40000000 (2.0)
  232. copy_constant                  $87 = 0x40400000 (3.0)
  233. cmpeq_4_floats                 $80..83 = equal($80..83, $84..87)
  234. bitwise_and_2_ints             $80..81 &= $82..83
  235. bitwise_and_int                $80 &= $81
  236. label                          label 0x0000001C
  237. copy_slot_masked               $79 = Mask($80)
  238. label                          label 0x00000005
  239. load_condition_mask            CondMask = $62
  240. zero_slot_unmasked             $33 = 0
  241. merge_condition_mask           CondMask = $78 & $79
  242. branch_if_no_lanes_active      branch_if_no_lanes_active +29 (label 4 at #271)
  243. copy_constant                  $34 = 0x41100000 (9.0)
  244. swizzle_4                      $34..37 = ($34..37).xxxx
  245. copy_4_slots_unmasked          result₂ = $34..37
  246. branch_if_no_lanes_active      branch_if_no_lanes_active +14 (label 32 at #260)
  247. copy_constant                  i₆ = 0x40400000 (3.0)
  248. label                          label 0x00000021
  249. copy_4_slots_unmasked          $34..37 = result₂(1..3), i₆
  250. copy_4_slots_masked            result₂ = Mask($34..37)
  251. copy_slot_unmasked             $34 = i₆
  252. copy_constant                  $35 = 0x3F800000 (1.0)
  253. sub_float                      $34 -= $35
  254. copy_slot_masked               i₆ = Mask($34)
  255. copy_constant                  $34 = 0x3F800000 (1.0)
  256. copy_slot_unmasked             $35 = i₆
  257. cmple_float                    $34 = lessThanEqual($34, $35)
  258. stack_rewind
  259. branch_if_no_active_lanes_eq   branch -11 (label 33 at #248) if no lanes of $34 == 0x00000000 (0.0)
  260. label                          label 0x00000020
  261. copy_4_slots_unmasked          $34..37 = result₂
  262. copy_constant                  $38 = 0x41100000 (9.0)
  263. copy_constant                  $39 = 0x40400000 (3.0)
  264. copy_constant                  $40 = 0x40000000 (2.0)
  265. copy_constant                  $41 = 0x3F800000 (1.0)
  266. cmpeq_4_floats                 $34..37 = equal($34..37, $38..41)
  267. bitwise_and_2_ints             $34..35 &= $36..37
  268. bitwise_and_int                $34 &= $35
  269. label                          label 0x0000001F
  270. copy_slot_masked               $33 = Mask($34)
  271. label                          label 0x00000004
  272. load_condition_mask            CondMask = $78
  273. zero_slot_unmasked             $53 = 0
  274. merge_condition_mask           CondMask = $32 & $33
  275. branch_if_no_lanes_active      branch_if_no_lanes_active +29 (label 3 at #304)
  276. copy_constant                  $54 = 0x41100000 (9.0)
  277. swizzle_4                      $54..57 = ($54..57).xxxx
  278. copy_4_slots_unmasked          result₃ = $54..57
  279. branch_if_no_lanes_active      branch_if_no_lanes_active +14 (label 35 at #293)
  280. copy_constant                  i₇ = 0x40400000 (3.0)
  281. label                          label 0x00000024
  282. copy_4_slots_unmasked          $54..57 = result₃(1..3), i₇
  283. copy_4_slots_masked            result₃ = Mask($54..57)
  284. copy_slot_unmasked             $54 = i₇
  285. copy_constant                  $55 = 0x3F800000 (1.0)
  286. sub_float                      $54 -= $55
  287. copy_slot_masked               i₇ = Mask($54)
  288. zero_slot_unmasked             $54 = 0
  289. copy_slot_unmasked             $55 = i₇
  290. cmplt_float                    $54 = lessThan($54, $55)
  291. stack_rewind
  292. branch_if_no_active_lanes_eq   branch -11 (label 36 at #281) if no lanes of $54 == 0x00000000 (0.0)
  293. label                          label 0x00000023
  294. copy_4_slots_unmasked          $54..57 = result₃
  295. copy_constant                  $58 = 0x41100000 (9.0)
  296. copy_constant                  $59 = 0x40400000 (3.0)
  297. copy_constant                  $60 = 0x40000000 (2.0)
  298. copy_constant                  $61 = 0x3F800000 (1.0)
  299. cmpeq_4_floats                 $54..57 = equal($54..57, $58..61)
  300. bitwise_and_2_ints             $54..55 &= $56..57
  301. bitwise_and_int                $54 &= $55
  302. label                          label 0x00000022
  303. copy_slot_masked               $53 = Mask($54)
  304. label                          label 0x00000003
  305. load_condition_mask            CondMask = $32
  306. zero_slot_unmasked             $43 = 0
  307. merge_condition_mask           CondMask = $52 & $53
  308. branch_if_no_lanes_active      branch_if_no_lanes_active +20 (label 2 at #328)
  309. copy_constant                  $44 = 0x41100000 (9.0)
  310. swizzle_4                      $44..47 = ($44..47).xxxx
  311. copy_4_slots_unmasked          result₄ = $44..47
  312. branch_if_no_lanes_active      branch_if_no_lanes_active +5 (label 38 at #317)
  313. copy_constant                  i₈ = 0x3F800000 (1.0)
  314. label                          label 0x00000027
  315. copy_4_slots_unmasked          $44..47 = result₄(1..3), i₈
  316. copy_4_slots_masked            result₄ = Mask($44..47)
  317. label                          label 0x00000026
  318. copy_4_slots_unmasked          $44..47 = result₄
  319. copy_constant                  $48 = 0x41100000 (9.0)
  320. copy_constant                  $49 = 0x41100000 (9.0)
  321. copy_constant                  $50 = 0x41100000 (9.0)
  322. copy_constant                  $51 = 0x3F800000 (1.0)
  323. cmpeq_4_floats                 $44..47 = equal($44..47, $48..51)
  324. bitwise_and_2_ints             $44..45 &= $46..47
  325. bitwise_and_int                $44 &= $45
  326. label                          label 0x00000025
  327. copy_slot_masked               $43 = Mask($44)
  328. label                          label 0x00000002
  329. load_condition_mask            CondMask = $52
  330. zero_slot_unmasked             $6 = 0
  331. merge_condition_mask           CondMask = $42 & $43
  332. branch_if_no_lanes_active      branch_if_no_lanes_active +28 (label 1 at #360)
  333. copy_constant                  $7 = 0x41100000 (9.0)
  334. swizzle_4                      $7..10 = ($7..10).xxxx
  335. copy_4_slots_unmasked          result₅ = $7..10
  336. branch_if_no_lanes_active      branch_if_no_lanes_active +13 (label 41 at #349)
  337. copy_constant                  i₉ = 0x3F800000 (1.0)
  338. label                          label 0x0000002A
  339. copy_4_slots_unmasked          $7..10 = result₅(1..3), i₉
  340. copy_4_slots_masked            result₅ = Mask($7..10)
  341. copy_slot_unmasked             $7 = i₉
  342. copy_constant                  $8 = 0x3F800000 (1.0)
  343. add_float                      $7 += $8
  344. copy_slot_masked               i₉ = Mask($7)
  345. copy_constant                  $8 = 0x40800000 (4.0)
  346. cmpne_float                    $7 = notEqual($7, $8)
  347. stack_rewind
  348. branch_if_no_active_lanes_eq   branch -10 (label 42 at #338) if no lanes of $7 == 0x00000000 (0.0)
  349. label                          label 0x00000029
  350. copy_4_slots_unmasked          $7..10 = result₅
  351. copy_constant                  $11 = 0x41100000 (9.0)
  352. copy_constant                  $12 = 0x3F800000 (1.0)
  353. copy_constant                  $13 = 0x40000000 (2.0)
  354. copy_constant                  $14 = 0x40400000 (3.0)
  355. cmpeq_4_floats                 $7..10 = equal($7..10, $11..14)
  356. bitwise_and_2_ints             $7..8 &= $9..10
  357. bitwise_and_int                $7 &= $8
  358. label                          label 0x00000028
  359. copy_slot_masked               $6 = Mask($7)
  360. label                          label 0x00000001
  361. load_condition_mask            CondMask = $42
  362. swizzle_4                      $6..9 = ($6..9).xxxx
  363. copy_4_constants               $10..13 = colorRed
  364. copy_4_constants               $14..17 = colorGreen
  365. mix_4_ints                     $6..9 = mix($10..13, $14..17, $6..9)
  366. load_src                       src.rgba = $6..9
